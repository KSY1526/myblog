<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>[SSUDA] 영화 데이터를 활용한 추천시스템 실습 | 나의 빅데이터 공부 기록</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="[SSUDA] 영화 데이터를 활용한 추천시스템 실습" />
<meta name="author" content="Seong Yeon Kim" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="다양한 머신러닝/딥러닝 코드들이 기록되어 있습니다." />
<meta property="og:description" content="다양한 머신러닝/딥러닝 코드들이 기록되어 있습니다." />
<link rel="canonical" href="https://ksy1526.github.io/myblog/ssuda/jupyter/deep%20learning/matrix/svd/recommended%20system/kaggle/2022/07/14/movie.html" />
<meta property="og:url" content="https://ksy1526.github.io/myblog/ssuda/jupyter/deep%20learning/matrix/svd/recommended%20system/kaggle/2022/07/14/movie.html" />
<meta property="og:site_name" content="나의 빅데이터 공부 기록" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-07-14T00:00:00-05:00" />
<script type="application/ld+json">
{"datePublished":"2022-07-14T00:00:00-05:00","url":"https://ksy1526.github.io/myblog/ssuda/jupyter/deep%20learning/matrix/svd/recommended%20system/kaggle/2022/07/14/movie.html","@type":"BlogPosting","headline":"[SSUDA] 영화 데이터를 활용한 추천시스템 실습","dateModified":"2022-07-14T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://ksy1526.github.io/myblog/ssuda/jupyter/deep%20learning/matrix/svd/recommended%20system/kaggle/2022/07/14/movie.html"},"author":{"@type":"Person","name":"Seong Yeon Kim"},"description":"다양한 머신러닝/딥러닝 코드들이 기록되어 있습니다.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/myblog/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://ksy1526.github.io/myblog/feed.xml" title="나의 빅데이터 공부 기록" /><link rel="shortcut icon" type="image/x-icon" href="/myblog/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/myblog/">나의 빅데이터 공부 기록</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/myblog/about/">About Me</a><a class="page-link" href="/myblog/search/">Search</a><a class="page-link" href="/myblog/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">[SSUDA] 영화 데이터를 활용한 추천시스템 실습</h1><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-07-14T00:00:00-05:00" itemprop="datePublished">
        Jul 14, 2022
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Seong Yeon Kim</span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      8 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/myblog/categories/#SSUDA">SSUDA</a>
        &nbsp;
      
        <a class="category-tags-link" href="/myblog/categories/#jupyter">jupyter</a>
        &nbsp;
      
        <a class="category-tags-link" href="/myblog/categories/#Deep Learning">Deep Learning</a>
        &nbsp;
      
        <a class="category-tags-link" href="/myblog/categories/#matrix">matrix</a>
        &nbsp;
      
        <a class="category-tags-link" href="/myblog/categories/#SVD">SVD</a>
        &nbsp;
      
        <a class="category-tags-link" href="/myblog/categories/#Recommended system">Recommended system</a>
        &nbsp;
      
        <a class="category-tags-link" href="/myblog/categories/#kaggle">kaggle</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          
          
          
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-07-14-movie.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="&#52628;&#52380;&#49884;&#49828;&#53596;">&#52628;&#52380;&#49884;&#49828;&#53596;<a class="anchor-link" href="#&#52628;&#52380;&#49884;&#49828;&#53596;"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>단순하게 떠올릴 수 있는 영화추천시스템은 3가지가 있습니다.</p>
<p>1) 보편적으로 많은 사람이 좋아하는 영화를 추천합니다. 가장 단순하고 강력한 방법입니다만 개인별 추천시스템과는 거리가 있습니다.</p>
<p>2) 특정 항목 내 비슷한 내용이 있는 영화를 추천합니다. 영화의 장르, 감독, 설명, 배우 등을 고려합니다. 어떤 사람이 특정 영화를 좋아한다면 비슷한 성격의 영화도 좋아할 것이다라는 논리 입니다.</p>
<p>3) 관심사가 비슷한 사용자를 매칭시키고 매칭된 사용자를 참고해 영화를 추천합니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="&#45936;&#51060;&#53552;-&#48520;&#47084;&#50724;&#44592;">&#45936;&#51060;&#53552; &#48520;&#47084;&#50724;&#44592;<a class="anchor-link" href="#&#45936;&#51060;&#53552;-&#48520;&#47084;&#50724;&#44592;"> </a></h1>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="kn">from</span> <span class="nn">google.colab</span> <span class="kn">import</span> <span class="n">drive</span>
<span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;/content/drive&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Mounted at /content/drive
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>

<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>

<span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;/content/drive/MyDrive/movie/&#39;</span>

<span class="n">df1</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s1">&#39;tmdb_5000_credits.csv&#39;</span><span class="p">)</span>
<span class="n">df2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s1">&#39;tmdb_5000_movies.csv&#39;</span><span class="p">)</span>

<span class="n">df1</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;tittle&#39;</span><span class="p">,</span><span class="s1">&#39;cast&#39;</span><span class="p">,</span><span class="s1">&#39;crew&#39;</span><span class="p">]</span>
<span class="n">df2</span><span class="o">=</span> <span class="n">df2</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df1</span><span class="p">,</span><span class="n">on</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>

<span class="n">df2</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

  <div id="df-158fae29-c97d-4c02-9012-1ae5a5d8476b">
    <div class="colab-df-container">
      <div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>budget</th>
      <th>genres</th>
      <th>homepage</th>
      <th>id</th>
      <th>keywords</th>
      <th>original_language</th>
      <th>original_title</th>
      <th>overview</th>
      <th>popularity</th>
      <th>production_companies</th>
      <th>...</th>
      <th>runtime</th>
      <th>spoken_languages</th>
      <th>status</th>
      <th>tagline</th>
      <th>title</th>
      <th>vote_average</th>
      <th>vote_count</th>
      <th>tittle</th>
      <th>cast</th>
      <th>crew</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>237000000</td>
      <td>[{"id": 28, "name": "Action"}, {"id": 12, "nam...</td>
      <td>http://www.avatarmovie.com/</td>
      <td>19995</td>
      <td>[{"id": 1463, "name": "culture clash"}, {"id":...</td>
      <td>en</td>
      <td>Avatar</td>
      <td>In the 22nd century, a paraplegic Marine is di...</td>
      <td>150.437577</td>
      <td>[{"name": "Ingenious Film Partners", "id": 289...</td>
      <td>...</td>
      <td>162.0</td>
      <td>[{"iso_639_1": "en", "name": "English"}, {"iso...</td>
      <td>Released</td>
      <td>Enter the World of Pandora.</td>
      <td>Avatar</td>
      <td>7.2</td>
      <td>11800</td>
      <td>Avatar</td>
      <td>[{"cast_id": 242, "character": "Jake Sully", "...</td>
      <td>[{"credit_id": "52fe48009251416c750aca23", "de...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>300000000</td>
      <td>[{"id": 12, "name": "Adventure"}, {"id": 14, "...</td>
      <td>http://disney.go.com/disneypictures/pirates/</td>
      <td>285</td>
      <td>[{"id": 270, "name": "ocean"}, {"id": 726, "na...</td>
      <td>en</td>
      <td>Pirates of the Caribbean: At World's End</td>
      <td>Captain Barbossa, long believed to be dead, ha...</td>
      <td>139.082615</td>
      <td>[{"name": "Walt Disney Pictures", "id": 2}, {"...</td>
      <td>...</td>
      <td>169.0</td>
      <td>[{"iso_639_1": "en", "name": "English"}]</td>
      <td>Released</td>
      <td>At the end of the world, the adventure begins.</td>
      <td>Pirates of the Caribbean: At World's End</td>
      <td>6.9</td>
      <td>4500</td>
      <td>Pirates of the Caribbean: At World's End</td>
      <td>[{"cast_id": 4, "character": "Captain Jack Spa...</td>
      <td>[{"credit_id": "52fe4232c3a36847f800b579", "de...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>245000000</td>
      <td>[{"id": 28, "name": "Action"}, {"id": 12, "nam...</td>
      <td>http://www.sonypictures.com/movies/spectre/</td>
      <td>206647</td>
      <td>[{"id": 470, "name": "spy"}, {"id": 818, "name...</td>
      <td>en</td>
      <td>Spectre</td>
      <td>A cryptic message from Bond’s past sends him o...</td>
      <td>107.376788</td>
      <td>[{"name": "Columbia Pictures", "id": 5}, {"nam...</td>
      <td>...</td>
      <td>148.0</td>
      <td>[{"iso_639_1": "fr", "name": "Fran\u00e7ais"},...</td>
      <td>Released</td>
      <td>A Plan No One Escapes</td>
      <td>Spectre</td>
      <td>6.3</td>
      <td>4466</td>
      <td>Spectre</td>
      <td>[{"cast_id": 1, "character": "James Bond", "cr...</td>
      <td>[{"credit_id": "54805967c3a36829b5002c41", "de...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>250000000</td>
      <td>[{"id": 28, "name": "Action"}, {"id": 80, "nam...</td>
      <td>http://www.thedarkknightrises.com/</td>
      <td>49026</td>
      <td>[{"id": 849, "name": "dc comics"}, {"id": 853,...</td>
      <td>en</td>
      <td>The Dark Knight Rises</td>
      <td>Following the death of District Attorney Harve...</td>
      <td>112.312950</td>
      <td>[{"name": "Legendary Pictures", "id": 923}, {"...</td>
      <td>...</td>
      <td>165.0</td>
      <td>[{"iso_639_1": "en", "name": "English"}]</td>
      <td>Released</td>
      <td>The Legend Ends</td>
      <td>The Dark Knight Rises</td>
      <td>7.6</td>
      <td>9106</td>
      <td>The Dark Knight Rises</td>
      <td>[{"cast_id": 2, "character": "Bruce Wayne / Ba...</td>
      <td>[{"credit_id": "52fe4781c3a36847f81398c3", "de...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>260000000</td>
      <td>[{"id": 28, "name": "Action"}, {"id": 12, "nam...</td>
      <td>http://movies.disney.com/john-carter</td>
      <td>49529</td>
      <td>[{"id": 818, "name": "based on novel"}, {"id":...</td>
      <td>en</td>
      <td>John Carter</td>
      <td>John Carter is a war-weary, former military ca...</td>
      <td>43.926995</td>
      <td>[{"name": "Walt Disney Pictures", "id": 2}]</td>
      <td>...</td>
      <td>132.0</td>
      <td>[{"iso_639_1": "en", "name": "English"}]</td>
      <td>Released</td>
      <td>Lost in our world, found in another.</td>
      <td>John Carter</td>
      <td>6.1</td>
      <td>2124</td>
      <td>John Carter</td>
      <td>[{"cast_id": 5, "character": "John Carter", "c...</td>
      <td>[{"credit_id": "52fe479ac3a36847f813eaa3", "de...</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 23 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-158fae29-c97d-4c02-9012-1ae5a5d8476b')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  &lt;svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px"&gt;
    <path d="M0 0h24v24H0V0z" fill="none" />
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z" /><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z" />
  &lt;/svg&gt;
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-158fae29-c97d-4c02-9012-1ae5a5d8476b button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-158fae29-c97d-4c02-9012-1ae5a5d8476b');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>데이터를 불러옵니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="1)-&#48372;&#54200;&#51201;&#51004;&#47196;-&#52572;&#44256;&#51032;-&#50689;&#54868;-&#52628;&#52380;&#54616;&#44592;">1) &#48372;&#54200;&#51201;&#51004;&#47196; &#52572;&#44256;&#51032; &#50689;&#54868; &#52628;&#52380;&#54616;&#44592;<a class="anchor-link" href="#1)-&#48372;&#54200;&#51201;&#51004;&#47196;-&#52572;&#44256;&#51032;-&#50689;&#54868;-&#52628;&#52380;&#54616;&#44592;"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>기술이 고도화됨에 따라 개인별 맞춤 추천 시스템을 많이 주목하지만 보편적으로 최고인 영화를 과소평가해선 안됩니다.</p>
<p>두 가지 모두 고려해야 더 좋은 효과를 보일 수 있습니다.</p>
<p>최고의 영화를 판별하는 기준만 정한다면 쉽게 구할 수 있습니다.</p>
<p>단순히 평점을 기준으로 한다면 소규모 평가가 이루워진 영화가 고평가 될 수 있습니다.</p>
<p>그래서 다음과 같은 기준을 사용합니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="data:image/png;base64,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" alt="image.png" /></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>v는 평가한 인원의 수, m은 차트에 기록되기 위한 최소 평가 인원수</p>
<p>R은 영화의 평점, C는 모든 영화 평점의 평균 입니다.</p>
<p>직관적으로 식을 해석해보면 평가한 인원이 많다면(V가 크다면) 영화의 평점 영향력을 크게하겠다 입니다.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">C</span><span class="o">=</span> <span class="n">df2</span><span class="p">[</span><span class="s1">&#39;vote_average&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">C</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>6.092171559442016</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>모든 영화의 평점의 평균은 10점만점에 6점정도 되네요.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">m</span><span class="o">=</span> <span class="n">df2</span><span class="p">[</span><span class="s1">&#39;vote_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.9</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>1838.4000000000015</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">q_movies</span> <span class="o">=</span> <span class="n">df2</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s1">&#39;vote_count&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">m</span><span class="p">]</span>
<span class="n">q_movies</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(481, 23)</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>보편적으로 최고의 영화다라고 판별하기 위해서는 최소한 영화 평가가 어느정도 있는 영화를 대상으로 판별해야합니다.</p>
<p>평가 개수가 상위 10%인 영화만(481개) 선별합니다.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="k">def</span> <span class="nf">weighted_rating</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="n">m</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="n">C</span><span class="p">):</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;vote_count&#39;</span><span class="p">]</span>
    <span class="n">R</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;vote_average&#39;</span><span class="p">]</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">v</span><span class="o">/</span><span class="p">(</span><span class="n">v</span><span class="o">+</span><span class="n">m</span><span class="p">)</span> <span class="o">*</span> <span class="n">R</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">m</span><span class="o">/</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="n">v</span><span class="p">)</span> <span class="o">*</span> <span class="n">C</span><span class="p">)</span>

<span class="n">q_movies</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">q_movies</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">weighted_rating</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>앞서 설명한 가중치를 이용해 영화를 평가하는 기준 값을 apply 함수를 사용해 구합니다.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">q_movies</span> <span class="o">=</span> <span class="n">q_movies</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;score&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">q_movies</span><span class="p">[[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;vote_count&#39;</span><span class="p">,</span> <span class="s1">&#39;vote_average&#39;</span><span class="p">,</span> <span class="s1">&#39;score&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

  <div id="df-d4de2f66-cb6c-42ad-b7bc-d8cab5746248">
    <div class="colab-df-container">
      <div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>title</th>
      <th>vote_count</th>
      <th>vote_average</th>
      <th>score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1881</th>
      <td>The Shawshank Redemption</td>
      <td>8205</td>
      <td>8.5</td>
      <td>8.059258</td>
    </tr>
    <tr>
      <th>662</th>
      <td>Fight Club</td>
      <td>9413</td>
      <td>8.3</td>
      <td>7.939256</td>
    </tr>
    <tr>
      <th>65</th>
      <td>The Dark Knight</td>
      <td>12002</td>
      <td>8.2</td>
      <td>7.920020</td>
    </tr>
    <tr>
      <th>3232</th>
      <td>Pulp Fiction</td>
      <td>8428</td>
      <td>8.3</td>
      <td>7.904645</td>
    </tr>
    <tr>
      <th>96</th>
      <td>Inception</td>
      <td>13752</td>
      <td>8.1</td>
      <td>7.863239</td>
    </tr>
    <tr>
      <th>3337</th>
      <td>The Godfather</td>
      <td>5893</td>
      <td>8.4</td>
      <td>7.851236</td>
    </tr>
    <tr>
      <th>95</th>
      <td>Interstellar</td>
      <td>10867</td>
      <td>8.1</td>
      <td>7.809479</td>
    </tr>
    <tr>
      <th>809</th>
      <td>Forrest Gump</td>
      <td>7927</td>
      <td>8.2</td>
      <td>7.803188</td>
    </tr>
    <tr>
      <th>329</th>
      <td>The Lord of the Rings: The Return of the King</td>
      <td>8064</td>
      <td>8.1</td>
      <td>7.727243</td>
    </tr>
    <tr>
      <th>1990</th>
      <td>The Empire Strikes Back</td>
      <td>5879</td>
      <td>8.2</td>
      <td>7.697884</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-d4de2f66-cb6c-42ad-b7bc-d8cab5746248')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  &lt;svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px"&gt;
    <path d="M0 0h24v24H0V0z" fill="none" />
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z" /><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z" />
  &lt;/svg&gt;
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-d4de2f66-cb6c-42ad-b7bc-d8cab5746248 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-d4de2f66-cb6c-42ad-b7bc-d8cab5746248');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">q_movies</span> <span class="o">=</span> <span class="n">q_movies</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;vote_average&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">q_movies</span><span class="p">[[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;vote_count&#39;</span><span class="p">,</span> <span class="s1">&#39;vote_average&#39;</span><span class="p">,</span> <span class="s1">&#39;score&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

  <div id="df-23107ca9-cd30-4b0b-8c26-b6979143e1d6">
    <div class="colab-df-container">
      <div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>title</th>
      <th>vote_count</th>
      <th>vote_average</th>
      <th>score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1881</th>
      <td>The Shawshank Redemption</td>
      <td>8205</td>
      <td>8.5</td>
      <td>8.059258</td>
    </tr>
    <tr>
      <th>3337</th>
      <td>The Godfather</td>
      <td>5893</td>
      <td>8.4</td>
      <td>7.851236</td>
    </tr>
    <tr>
      <th>1818</th>
      <td>Schindler's List</td>
      <td>4329</td>
      <td>8.3</td>
      <td>7.641883</td>
    </tr>
    <tr>
      <th>2731</th>
      <td>The Godfather: Part II</td>
      <td>3338</td>
      <td>8.3</td>
      <td>7.515889</td>
    </tr>
    <tr>
      <th>662</th>
      <td>Fight Club</td>
      <td>9413</td>
      <td>8.3</td>
      <td>7.939256</td>
    </tr>
    <tr>
      <th>3865</th>
      <td>Whiplash</td>
      <td>4254</td>
      <td>8.3</td>
      <td>7.633781</td>
    </tr>
    <tr>
      <th>2294</th>
      <td>Spirited Away</td>
      <td>3840</td>
      <td>8.3</td>
      <td>7.585209</td>
    </tr>
    <tr>
      <th>3232</th>
      <td>Pulp Fiction</td>
      <td>8428</td>
      <td>8.3</td>
      <td>7.904645</td>
    </tr>
    <tr>
      <th>809</th>
      <td>Forrest Gump</td>
      <td>7927</td>
      <td>8.2</td>
      <td>7.803188</td>
    </tr>
    <tr>
      <th>3057</th>
      <td>American History X</td>
      <td>3016</td>
      <td>8.2</td>
      <td>7.401749</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-23107ca9-cd30-4b0b-8c26-b6979143e1d6')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  &lt;svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px"&gt;
    <path d="M0 0h24v24H0V0z" fill="none" />
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z" /><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z" />
  &lt;/svg&gt;
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-23107ca9-cd30-4b0b-8c26-b6979143e1d6 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-23107ca9-cd30-4b0b-8c26-b6979143e1d6');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>윗 코드는 새로운 지표 기준 상위 10개 영화, 밑 코드는 단순한 평점 기준 상위 10개 영화입니다. 1등을 제외하고 지표가 다릅니다.</p>
<p>이러한 보편적으로 최고의 영화를 추천하는 방식은 특정 사용자의 흥미나 취향에 민감하지 않다는 단점이 있습니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="2)-&#45236;&#50857;-&#44592;&#48152;-&#50689;&#54868;-&#52628;&#52380;&#54616;&#44592;">2) &#45236;&#50857; &#44592;&#48152; &#50689;&#54868; &#52628;&#52380;&#54616;&#44592;<a class="anchor-link" href="#2)-&#45236;&#50857;-&#44592;&#48152;-&#50689;&#54868;-&#52628;&#52380;&#54616;&#44592;"> </a></h1>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">df2</span><span class="p">[</span><span class="s1">&#39;overview&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0    In the 22nd century, a paraplegic Marine is di...
1    Captain Barbossa, long believed to be dead, ha...
2    A cryptic message from Bond’s past sends him o...
3    Following the death of District Attorney Harve...
4    John Carter is a war-weary, former military ca...
Name: overview, dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>유사한 overview을 가진 영화를 추천하는 모델을 만들어보겠습니다. 그러기 위해선 overview 내 언어를 숫자로 변환해야하는데요.</p>
<p>영어 기준으로 단어 단위로 나오는 횟수를 단순히 원핫인코딩 방식으로 기록하는 CountVectorizer 함수를 고려할 수 있습니다.</p>
<p>CountVectorizer 은 입력받은 모든 단어를 단어사전에 기록하고 원핫인코딩 방식으로 각 문장을 숫자로 반환해줍니다.</p>
<p>다만 관계대명사 등 자주 나오는 단어이나 영화 내용을 파악하는데 불필요한 단어가 많이 기록된다는 단점이 있는데요.</p>
<p>이를 보안한 것이 TfidfVectorizer 입니다.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfVectorizer</span>

<span class="n">tfidf</span> <span class="o">=</span> <span class="n">TfidfVectorizer</span><span class="p">(</span><span class="n">stop_words</span><span class="o">=</span><span class="s1">&#39;english&#39;</span><span class="p">)</span>

<span class="n">df2</span><span class="p">[</span><span class="s1">&#39;overview&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df2</span><span class="p">[</span><span class="s1">&#39;overview&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="n">tfidf_matrix</span> <span class="o">=</span> <span class="n">tfidf</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s1">&#39;overview&#39;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">tfidf_matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tfidf_matrix</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[[0. 0. 0. ... 0. 0. 0.]]
(4803, 20978)
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>TfidfVectorizer 의 토대가 되는 기호 정리부터 하겠습니다.</p>
<p>TF(Term Frequency) : 특정 단어가 하나의 데이터 안에서 등장하는 횟수.</p>
<p>DF(Document Frequency) : 특정 단어가 여러 데이터에 자주 등장하는지를 알려주는 지표.</p>
<p>IDF(Inverse Document Frequency) : DF에 역수.</p>
<p>TF-IDF : TF와 IDF를 곱한 값. 즉 TF가 높고, DF가 낮을수록 값이 커지는 것을 이용하는 것입니다.</p>
<p>다른 문장에 많이 나오지 않는 단어는 고유한 그 영화만에 특성을 가진 단어라고 볼 수 있고 TF-IDF은 이를 반영한 지표입니다.</p>
<p>약 4800개 영화에 21000개 정도 단어종류가 확인됬군요.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics.pairwise</span> <span class="kn">import</span> <span class="n">linear_kernel</span>

<span class="n">cosine_sim</span> <span class="o">=</span> <span class="n">linear_kernel</span><span class="p">(</span><span class="n">tfidf_matrix</span><span class="p">,</span> <span class="n">tfidf_matrix</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cosine_sim</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>(4803, 4803)
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="data:image/png;base64,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" alt="image.png" /></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>단어집합의 유사도 검정을 할 때 코사인 유사도 값을 많이 사용합니다.</p>
<p>cosine_sim 은 각각의 영화별 코사인 유사도 값을 기록한 행렬값 입니다.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">indices</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">df2</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">get_recommendations</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">cosine_sim</span><span class="o">=</span><span class="n">cosine_sim</span><span class="p">):</span>
    <span class="c1"># 입력받은 영화 제목의 인덱스 추출</span>
    <span class="n">idx</span> <span class="o">=</span> <span class="n">indices</span><span class="p">[</span><span class="n">title</span><span class="p">]</span>

    <span class="c1"># 입력받은 영화와 다른 모든 영화의 코사인 유사도를 행렬에서 추출함.</span>
    <span class="c1"># enumerate로 인덱스를 붙히고 리스트로 변환함.</span>
    <span class="n">sim_scores</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">cosine_sim</span><span class="p">[</span><span class="n">idx</span><span class="p">]))</span>

    <span class="c1"># 코사인 유사도가 높은 순서대로 정렬함.</span>
    <span class="n">sim_scores</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">sim_scores</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># 코사인 유사도가 높은 상위 10개 영화를 추출. 이때 인덱스 값이 같이 추출됨.</span>
    <span class="n">sim_scores</span> <span class="o">=</span> <span class="n">sim_scores</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">11</span><span class="p">]</span>

    <span class="c1"># 코사인 유사도가 높은 상위 10개 영화의 인덱스만 추출</span>
    <span class="n">movie_indices</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">sim_scores</span><span class="p">]</span>

    <span class="c1"># 인덱스를 이용해 영화 제목 추출.</span>
    <span class="k">return</span> <span class="n">df2</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">movie_indices</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">get_recommendations</span><span class="p">(</span><span class="s1">&#39;The Dark Knight Rises&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>65                              The Dark Knight
299                              Batman Forever
428                              Batman Returns
1359                                     Batman
3854    Batman: The Dark Knight Returns, Part 2
119                               Batman Begins
2507                                  Slow Burn
9            Batman v Superman: Dawn of Justice
1181                                        JFK
210                              Batman &amp; Robin
Name: title, dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">get_recommendations</span><span class="p">(</span><span class="s1">&#39;The Avengers&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>7               Avengers: Age of Ultron
3144                            Plastic
1715                            Timecop
4124                 This Thing of Ours
3311              Thank You for Smoking
3033                      The Corruptor
588     Wall Street: Money Never Sleeps
2136         Team America: World Police
1468                       The Fountain
1286                        Snowpiercer
Name: title, dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>영화 제목 입력받으면 그와 비슷한(코사인 유사도기반) overview를 가진 상위 10개 영화를 추출하는 함수를 제작했습니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="3)-&#44288;&#49900;&#49324;&#44032;-&#48708;&#49847;&#54620;-&#49324;&#50857;&#51088;&#47196;-&#50689;&#54868;-&#52628;&#52380;&#54616;&#44592;">3) &#44288;&#49900;&#49324;&#44032; &#48708;&#49847;&#54620; &#49324;&#50857;&#51088;&#47196; &#50689;&#54868; &#52628;&#52380;&#54616;&#44592;<a class="anchor-link" href="#3)-&#44288;&#49900;&#49324;&#44032;-&#48708;&#49847;&#54620;-&#49324;&#50857;&#51088;&#47196;-&#50689;&#54868;-&#52628;&#52380;&#54616;&#44592;"> </a></h1>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="err">!</span><span class="n">pip</span> <span class="n">install</span> <span class="n">scikit</span><span class="o">-</span><span class="n">surprise</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/
Requirement already satisfied: scikit-surprise in /usr/local/lib/python3.7/dist-packages (1.1.1)
Requirement already satisfied: joblib&gt;=0.11 in /usr/local/lib/python3.7/dist-packages (from scikit-surprise) (1.1.0)
Requirement already satisfied: numpy&gt;=1.11.2 in /usr/local/lib/python3.7/dist-packages (from scikit-surprise) (1.21.6)
Requirement already satisfied: six&gt;=1.10.0 in /usr/local/lib/python3.7/dist-packages (from scikit-surprise) (1.15.0)
Requirement already satisfied: scipy&gt;=1.0.0 in /usr/local/lib/python3.7/dist-packages (from scikit-surprise) (1.7.3)
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>surprise는 다양한 추천시스템 함수를 가진 패키지 입니다.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="kn">from</span> <span class="nn">surprise</span> <span class="kn">import</span> <span class="n">Reader</span><span class="p">,</span> <span class="n">Dataset</span><span class="p">,</span> <span class="n">SVD</span>
<span class="kn">from</span> <span class="nn">surprise.model_selection</span> <span class="kn">import</span> <span class="n">cross_validate</span>

<span class="n">reader</span> <span class="o">=</span> <span class="n">Reader</span><span class="p">()</span>
<span class="n">ratings</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span><span class="s1">&#39;ratings_small.csv&#39;</span><span class="p">)</span>
<span class="n">ratings</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

  <div id="df-3beecaa3-f81a-4e5f-9ab0-06a5763812d4">
    <div class="colab-df-container">
      <div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>userId</th>
      <th>movieId</th>
      <th>rating</th>
      <th>timestamp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>31</td>
      <td>2.5</td>
      <td>1260759144</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1029</td>
      <td>3.0</td>
      <td>1260759179</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>1061</td>
      <td>3.0</td>
      <td>1260759182</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>1129</td>
      <td>2.0</td>
      <td>1260759185</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>1172</td>
      <td>4.0</td>
      <td>1260759205</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-3beecaa3-f81a-4e5f-9ab0-06a5763812d4')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  &lt;svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px"&gt;
    <path d="M0 0h24v24H0V0z" fill="none" />
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z" /><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z" />
  &lt;/svg&gt;
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-3beecaa3-f81a-4e5f-9ab0-06a5763812d4 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-3beecaa3-f81a-4e5f-9ab0-06a5763812d4');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>surprise 패키지 내 SVD 함수를 이용하기 위해선 데이터 프레임이 반드시 (사용자ID, 영화ID, 평점) 순으로 있어야합니다.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">load_from_df</span><span class="p">(</span><span class="n">ratings</span><span class="p">[[</span><span class="s1">&#39;userId&#39;</span><span class="p">,</span> <span class="s1">&#39;movieId&#39;</span><span class="p">,</span> <span class="s1">&#39;rating&#39;</span><span class="p">]],</span> <span class="n">reader</span><span class="p">)</span>

<span class="n">svd</span> <span class="o">=</span> <span class="n">SVD</span><span class="p">()</span>

<span class="n">cross_validate</span><span class="p">(</span><span class="n">svd</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">measures</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;RMSE&#39;</span><span class="p">],</span> <span class="n">cv</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;fit_time&#39;: (8.233148574829102,
  5.2691779136657715,
  5.370789527893066,
  5.306999921798706,
  5.467830181121826),
 &#39;test_mae&#39;: array([0.68962625, 0.69583257, 0.68883765, 0.69072012, 0.69067091]),
 &#39;test_rmse&#39;: array([0.89545545, 0.89963625, 0.8925816 , 0.89423993, 0.90127922]),
 &#39;test_time&#39;: (0.15677785873413086,
  0.14635586738586426,
  0.15284276008605957,
  0.15076279640197754,
  0.14911937713623047)}</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>RMSE 값이 크진 않은 것 같습니다.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">svd</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1172</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Prediction(uid=1, iid=1172, r_ui=3, est=3.423968547182108, details={&#39;was_impossible&#39;: False})</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span><span class="n">ratings</span><span class="p">[(</span><span class="n">ratings</span><span class="p">[</span><span class="s1">&#39;userId&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ratings</span><span class="p">[</span><span class="s1">&#39;movieId&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1172</span><span class="p">)]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

  <div id="df-8fdb037e-6fb4-4f2e-b3e1-f8803e634fd3">
    <div class="colab-df-container">
      <div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>userId</th>
      <th>movieId</th>
      <th>rating</th>
      <th>timestamp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>1172</td>
      <td>4.0</td>
      <td>1260759205</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-8fdb037e-6fb4-4f2e-b3e1-f8803e634fd3')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  &lt;svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px"&gt;
    <path d="M0 0h24v24H0V0z" fill="none" />
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z" /><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z" />
  &lt;/svg&gt;
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-8fdb037e-6fb4-4f2e-b3e1-f8803e634fd3 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-8fdb037e-6fb4-4f2e-b3e1-f8803e634fd3');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>예측값과 실제값의 일부 사례를 관찰해보았습니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="&#52636;&#52376;">&#52636;&#52376;<a class="anchor-link" href="#&#52636;&#52376;"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>데이터</p>
<p><a href="https://www.kaggle.com/datasets/tmdb/tmdb-movie-metadata">https://www.kaggle.com/datasets/tmdb/tmdb-movie-metadata</a></p>
<p><a href="https://www.kaggle.com/datasets/rounakbanik/the-movies-dataset">https://www.kaggle.com/datasets/rounakbanik/the-movies-dataset</a></p>
<p>코드</p>
<p><a href="https://www.kaggle.com/code/ibtesama/getting-started-with-a-movie-recommendation-system">https://www.kaggle.com/code/ibtesama/getting-started-with-a-movie-recommendation-system</a></p>
<p>참고자료</p>
<p><a href="https://wiserloner.tistory.com/917">https://wiserloner.tistory.com/917</a></p>
<p><a href="https://seing.tistory.com/67">https://seing.tistory.com/67</a></p>

</div>
</div>
</div>
</div>



  </div><script src="https://utteranc.es/client.js"
        repo="KSY1526/myblog"
        issue-term="pathname"
        theme="github-dark"
        crossorigin="anonymous"
        async>
</script>
  <a class="u-url" href="/myblog/ssuda/jupyter/deep%20learning/matrix/svd/recommended%20system/kaggle/2022/07/14/movie.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/myblog/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/myblog/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/myblog/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>다양한 머신러닝/딥러닝 코드들이 기록되어 있습니다.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/KSY1526" target="_blank" title="KSY1526"><svg class="svg-icon grey"><use xlink:href="/myblog/assets/minima-social-icons.svg#github"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
